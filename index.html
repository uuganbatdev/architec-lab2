<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
		<title>lab_2</title>
	</head>
	<body style='background: grey; min-height: 100vh; display: grid; place-items:center'>
		<div  style='background: white; padding: 30px'>
			<label for="fname">First name:</label><br>
			<input type="text" id="fname" name="fname" ><br>
			<label for="lname">Last name:</label><br>
			<input type="text" id="lname" name="lname" ><br><br>
			<button onclick='sendReq()'>Send</button>
		</div> 
	</body>
	<script>
		function sendReq() {

					const BASE_URL = 'http://localhost:3001/';

					let	firstName = document.querySelector('#fname').value;
					let	lastName = document.querySelector('#lname').value;

					if ( window.sessionStorage.firstName ) {
						firstName = window.sessionStorage.firstName;
						lastName = window.sessionStorage.lastName;
					}

					axios({
					  method: 'post',
						url: `${BASE_URL}lab1`,
					  data: {
						firstName: firstName,
						lastName: lastName,
					  }
						}).then( () => {
						window.sessionStorage.firstName = '';
						window.sessionStorage.lastName = '';
						}) .catch(err => {
							window.sessionStorage.firstName = firstName;
							window.sessionStorage.lastName = lastName;
					});
				}
	</script>
</html>
